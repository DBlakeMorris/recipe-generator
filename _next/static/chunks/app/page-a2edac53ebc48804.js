(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{8160:(e,t,r)=>{Promise.resolve().then(r.bind(r,5172))},5172:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>A});var s=r(5155),a=r(2115),i=r(2317),n=r(652),l=r(3463),o=r(9795);function c(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,o.QP)((0,l.$)(t))}let d=(0,n.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),u=a.forwardRef((e,t)=>{let{className:r,variant:a,size:n,asChild:l=!1,...o}=e,u=l?i.DX:"button";return(0,s.jsx)(u,{className:c(d({variant:a,size:n,className:r})),ref:t,...o})});u.displayName="Button";let p=a.forwardRef((e,t)=>{let{className:r,type:a,...i}=e;return(0,s.jsx)("input",{type:a,className:c("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...i})});p.displayName="Input";let f=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("textarea",{className:c("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...a})});f.displayName="Textarea";let m=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:c("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});m.displayName="Card";let g=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:c("flex flex-col space-y-1.5 p-6",r),...a})});g.displayName="CardHeader";let x=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h3",{ref:t,className:c("text-2xl font-semibold leading-none tracking-tight",r),...a})});x.displayName="CardTitle";let h=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:c("p-6 pt-0",r),...a})});h.displayName="CardContent";var b=r(5360);let v=b.bL,y=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(b.B8,{ref:t,className:c("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...a})});y.displayName=b.B8.displayName;let N=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(b.l9,{ref:t,className:c("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...a})});N.displayName=b.l9.displayName;let j=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(b.UC,{ref:t,className:c("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...a})});j.displayName=b.UC.displayName;var w=r(63),k=r(1719),C=r(8867);let S=w.bL,T=a.forwardRef((e,t)=>{let{className:r,children:a,...i}=e;return(0,s.jsxs)(w.l9,{ref:t,className:c("flex h-10 items-center justify-between rounded-md border border-input bg-transparent px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),...i,children:[a,(0,s.jsx)(w.In,{asChild:!0,children:(0,s.jsx)(k.A,{className:"h-4 w-4 opacity-50"})})]})});T.displayName=w.l9.displayName;let R=a.forwardRef((e,t)=>{let{className:r,children:a,...i}=e;return(0,s.jsx)(w.ZL,{children:(0,s.jsx)(w.UC,{ref:t,className:c("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md",r),...i,children:(0,s.jsx)(w.LM,{className:"p-1",children:a})})})});R.displayName=w.UC.displayName;let I=a.forwardRef((e,t)=>{let{className:r,children:a,...i}=e;return(0,s.jsxs)(w.q7,{ref:t,className:c("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...i,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(w.VF,{children:(0,s.jsx)(C.A,{className:"h-4 w-4"})})}),(0,s.jsx)(w.p4,{children:a})]})});I.displayName=w.q7.displayName;let E=w.WT;var D=r(1773);let P=r(2818).env.NEXT_PUBLIC_API_URL||"http://localhost:8000",O=e=>e?(e.replace(RegExp("^.*?\\n.*?(?=Description|DESCRIPTION)","s"),"").replace(/\*\*/g,"").replace(/\*/g,"").replace(/(Description|DESCRIPTION)(\s*:?\s*)/g,'<div class="font-bold text-pink-600 mt-4">Description</div><div class="text-gray-700 mb-4">').replace(/(Preparation Time|PREPARATION TIME)(\s*:?\s*)/g,'<div class="font-bold text-pink-600 mt-4">Preparation Time</div><div class="text-gray-700">').replace(/(Cooking Time|COOKING TIME)(\s*:?\s*)/g,'<div class="font-bold text-pink-600 mt-4">Cooking Time</div><div class="text-gray-700">').replace(/(Servings|SERVINGS)(\s*:?\s*)/g,'<div class="font-bold text-pink-600 mt-4">Servings</div><div class="text-gray-700">').replace(/(INGREDIENTS:|Ingredients:)/g,'<div class="font-bold text-pink-600 mt-6 mb-2">Ingredients</div><ul class="list-disc pl-6 space-y-2">').replace(/For the ([^:]+):/g,'<div class="font-semibold text-pink-500 mt-3">For the $1:</div>').replace(/(INSTRUCTIONS:|Instructions:)/g,'</ul><div class="font-bold text-pink-600 mt-6 mb-2">Instructions</div><ol class="list-decimal pl-6 space-y-2">').replace(/(TIPS:|Tips:)/g,'</ol><div class="font-bold text-pink-600 mt-6 mb-2">Tips</div><ul class="list-disc pl-6 space-y-2">').replace(/^- /gm,'<li class="text-gray-700">').replace(/^\d+\.\s+/gm,'<li class="text-gray-700">').split("\n").filter(e=>e.trim()).join("</li>\n")+"</ul>").replace(/(<\/li>\s*){2,}/g,"</li>").replace(/(<\/ul>\s*){2,}/g,"</ul>").replace(/(<\/ol>\s*){2,}/g,"</ol>"):"";function _(){let[e,t]=(0,a.useState)(""),[r,i]=(0,a.useState)(""),[n,l]=(0,a.useState)([]),[o,c]=(0,a.useState)(""),[d,b]=(0,a.useState)(null),[w,k]=(0,a.useState)(!1),[C,_]=(0,a.useState)([]),A=async()=>{k(!0);try{let t=await fetch("".concat(P,"/api/generate-titles"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ingredients:e,preferences:r})}),s=await t.json();l(s.titles),c(s.titles[0])}catch(e){console.error("Error generating titles:",e.message)}k(!1)},G=(0,a.useCallback)(async()=>{k(!0);try{let t=await fetch("".concat(P,"/api/generate-recipe"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:o,ingredients:e,preferences:r})}),s=await t.json();b(s)}catch(e){console.error("Error generating recipe:",e.message)}k(!1)},[o,e,r]);(0,a.useEffect)(()=>{o&&G()},[o,G]);let L=async()=>{try{let e=await fetch("".concat(P,"/api/recipes")),t=await e.json();if(t&&Array.isArray(t.recipes))return t.recipes;return[]}catch(e){return console.error("Error loading recipes:",e.message),[]}},U=async()=>{if(d)try{let e=await fetch("".concat(P,"/api/save-recipe"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)});if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));(await e.json()).recipes&&_([...C,d])}catch(e){console.error("Error saving recipe:",e.message)}},F=async e=>{try{if(!e){console.error("No title provided");return}let t=await fetch("".concat(P,"/api/remove-recipe"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e})});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to remove recipe")}let r=await L();_(r||[])}catch(e){console.error("Error removing recipe:",e.message)}};return(0,a.useEffect)(()=>{L().then(e=>_(e))},[]),(0,s.jsxs)("div",{className:"container mx-auto p-4 bg-pink-50 min-h-screen",children:[(0,s.jsxs)("div",{className:"flex justify-center items-center mb-8 w-full relative",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-center text-pink-600",children:"\uD83D\uDC75 Grandma June's AI Recipe Generator \uD83D\uDC75"}),(0,s.jsxs)(u,{onClick:()=>{t(""),i(""),l([]),c(""),b(null),k(!1)},className:"bg-gray-500 hover:bg-gray-600 text-white absolute right-0",title:"Start Fresh",children:[(0,s.jsx)(D.A,{className:"w-4 h-4 mr-2"}),"Reset"]})]}),(0,s.jsxs)(v,{defaultValue:"generator",className:"w-full",children:[(0,s.jsxs)(y,{className:"w-full mb-4",children:[(0,s.jsx)(N,{value:"generator",className:"w-1/2",children:"Recipe Generator"}),(0,s.jsx)(N,{value:"pantry",className:"w-1/2",children:"Grandma's Pantry"})]}),(0,s.jsx)(j,{value:"generator",children:(0,s.jsxs)(m,{children:[(0,s.jsx)(g,{children:(0,s.jsx)(x,{className:"text-2xl font-semibold text-pink-600",children:"Cook Something Special! \uD83E\uDDC1"})}),(0,s.jsx)(h,{children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(f,{placeholder:"e.g., eggs, flour, butter, chocolate chips",value:e,onChange:e=>t(e.target.value),className:"w-full p-2 border rounded"}),(0,s.jsx)(p,{placeholder:"Any special requests?",value:r,onChange:e=>i(e.target.value),className:"w-full p-2 border rounded"}),(0,s.jsx)(u,{onClick:A,className:"w-full bg-pink-500 hover:bg-pink-600 text-white",children:w?"Cooking up ideas...":"Generate Recipes"}),n.length>0&&(0,s.jsxs)(S,{value:o,onValueChange:c,children:[(0,s.jsx)(T,{children:(0,s.jsx)(E,{placeholder:"Select a recipe"})}),(0,s.jsx)(R,{children:n.map(e=>(0,s.jsx)(I,{value:e,children:e},e))})]}),d&&d.content&&(0,s.jsxs)("div",{className:"mt-4 bg-white p-8 rounded-lg shadow-md border border-pink-100",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-pink-600 mb-6 text-center",children:d.title}),(0,s.jsx)("div",{dangerouslySetInnerHTML:{__html:O(d.content)},className:"prose max-w-none divide-y divide-pink-100"}),(0,s.jsx)(u,{onClick:U,className:"mt-6 bg-green-500 hover:bg-green-600 text-white",children:"Save to Grandma's Pantry"})]})]})})]})}),(0,s.jsx)(j,{value:"pantry",children:(0,s.jsxs)(m,{children:[(0,s.jsx)(g,{children:(0,s.jsx)(x,{className:"text-2xl font-semibold text-pink-600",children:"Grandma's Recipe Pantry \uD83D\uDCD6"})}),(0,s.jsx)(h,{children:C&&0!==C.length?(0,s.jsx)("div",{className:"space-y-4",children:C.filter(e=>e&&e.title&&e.content).map((e,t)=>(0,s.jsxs)("div",{className:"border-b pb-4",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold text-pink-600",children:e.title}),(0,s.jsx)("div",{dangerouslySetInnerHTML:{__html:O(e.content)},className:"prose mt-2 max-w-none"}),(0,s.jsx)(u,{onClick:()=>F(e.title),className:"mt-2 bg-red-500 hover:bg-red-600 text-white",children:"Remove Recipe"})]},"".concat(e.title,"-").concat(t)))}):(0,s.jsx)("p",{children:"No recipes saved yet. Start cooking to fill up your pantry!"})})]})})]})]})}function A(){return(0,s.jsx)("main",{children:(0,s.jsx)(_,{})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[867,441,517,358],()=>t(8160)),_N_E=e.O()}]);